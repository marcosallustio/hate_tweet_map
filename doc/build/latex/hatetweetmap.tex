%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsable pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{5}
\setcounter{secnumdepth}{5}


\title{Hate Tweet Map}
\date{Jul 06, 2021}
\release{1.0}
\author{Dario Amoroso d\textquotesingle{}Aragona}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\chapter{Code Documentation}
\label{\detokenize{code_comment/code_comment:code-documentation}}\label{\detokenize{code_comment/code_comment::doc}}

\section{Tweets Process}
\label{\detokenize{code_comment/tweet_processor:tweets-process}}\label{\detokenize{code_comment/tweet_processor::doc}}

\subsection{TagMe Service}
\label{\detokenize{code_comment/tweet_processor:module-hate_tweet_map.tweets_processor.MyTagMe}}\label{\detokenize{code_comment/tweet_processor:tagme-service}}\index{module@\spxentry{module}!hate\_tweet\_map.tweets\_processor.MyTagMe@\spxentry{hate\_tweet\_map.tweets\_processor.MyTagMe}}\index{hate\_tweet\_map.tweets\_processor.MyTagMe@\spxentry{hate\_tweet\_map.tweets\_processor.MyTagMe}!module@\spxentry{module}}
\sphinxAtStartPar
This module provides a wrapper for the TagMe API.
\index{AnnotateResponse (class in hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{AnnotateResponse}\spxextra{class in hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.AnnotateResponse}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{AnnotateResponse}}}{\emph{\DUrole{n}{json\_content}}}{}
\sphinxAtStartPar
A response to a call to the annotation (/tag) service. It contains the list of annotations
found.
\index{get\_annotations() (hate\_tweet\_map.tweets\_processor.MyTagMe.AnnotateResponse method)@\spxentry{get\_annotations()}\spxextra{hate\_tweet\_map.tweets\_processor.MyTagMe.AnnotateResponse method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.AnnotateResponse.get_annotations}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_annotations}}}{\emph{\DUrole{n}{min\_rho}\DUrole{o}{=}\DUrole{default_value}{None}}}{}
\sphinxAtStartPar
Get the list of annotations found.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{min\_rho}} \textendash{} if set, only get entities with a rho\sphinxhyphen{}score (confidence) higher than this.

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}

\index{Annotation (class in hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{Annotation}\spxextra{class in hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.Annotation}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{Annotation}}}{\emph{\DUrole{n}{ann\_json}}}{}
\sphinxAtStartPar
An annotation, i.e. a link of a part of text to an entity.
\index{uri() (hate\_tweet\_map.tweets\_processor.MyTagMe.Annotation method)@\spxentry{uri()}\spxextra{hate\_tweet\_map.tweets\_processor.MyTagMe.Annotation method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.Annotation.uri}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{uri}}}{\emph{\DUrole{n}{lang}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}en\textquotesingle{}}}}{}
\sphinxAtStartPar
Get the URI of this annotation entity.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lang}} \textendash{} the Wikipedia language.

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}

\index{Mention (class in hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{Mention}\spxextra{class in hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.Mention}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{Mention}}}{\emph{\DUrole{n}{mention\_json}}}{}
\sphinxAtStartPar
A mention, i.e. a part of text that may mention an entity.

\end{fulllineitems}

\index{MentionsResponse (class in hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{MentionsResponse}\spxextra{class in hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.MentionsResponse}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{MentionsResponse}}}{\emph{\DUrole{n}{json\_content}}}{}
\sphinxAtStartPar
A response to a call to the mention finding (/spot) service. It contains the list of mentions
found.
\index{get\_mentions() (hate\_tweet\_map.tweets\_processor.MyTagMe.MentionsResponse method)@\spxentry{get\_mentions()}\spxextra{hate\_tweet\_map.tweets\_processor.MyTagMe.MentionsResponse method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.MentionsResponse.get_mentions}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_mentions}}}{\emph{\DUrole{n}{min\_lp}\DUrole{o}{=}\DUrole{default_value}{None}}}{}
\sphinxAtStartPar
Get the list of mentions found.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{min\_lp}} \textendash{} if set, only get mentions with a link probability higher than this.

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}

\index{Relatedness (class in hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{Relatedness}\spxextra{class in hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.Relatedness}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{Relatedness}}}{\emph{\DUrole{n}{rel\_json}}}{}
\sphinxAtStartPar
A relatedness, i.e. a real value between 0 and 1 indicating how semantically close two entities
are.
\index{as\_pair() (hate\_tweet\_map.tweets\_processor.MyTagMe.Relatedness method)@\spxentry{as\_pair()}\spxextra{hate\_tweet\_map.tweets\_processor.MyTagMe.Relatedness method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.Relatedness.as_pair}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{as\_pair}}}{}{}
\sphinxAtStartPar
Get this relatedness value as a pair (titles, rel), where rel is the relatedness value and
titles is the pair of the two titles/Wikipedia IDs.

\end{fulllineitems}


\end{fulllineitems}

\index{RelatednessResponse (class in hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{RelatednessResponse}\spxextra{class in hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.RelatednessResponse}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{RelatednessResponse}}}{\emph{\DUrole{n}{json\_contents}}}{}
\sphinxAtStartPar
A response to a call to the relatedness (/rel) service. It contains the list of relatedness for
each pair.
\index{get\_relatedness() (hate\_tweet\_map.tweets\_processor.MyTagMe.RelatednessResponse method)@\spxentry{get\_relatedness()}\spxextra{hate\_tweet\_map.tweets\_processor.MyTagMe.RelatednessResponse method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.RelatednessResponse.get_relatedness}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_relatedness}}}{\emph{\DUrole{n}{i}\DUrole{o}{=}\DUrole{default_value}{0}}}{}
\sphinxAtStartPar
Get the relatedness of a pairs of entities.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{i}} \textendash{} the index of an entity pair. The order is the same as the request.

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}

\index{annotate() (in module hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{annotate()}\spxextra{in module hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.annotate}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{annotate}}}{\emph{\DUrole{n}{text}}, \emph{\DUrole{n}{is\_twitter\_text}\DUrole{o}{=}\DUrole{default_value}{False}}, \emph{\DUrole{n}{gcube\_token}\DUrole{o}{=}\DUrole{default_value}{None}}, \emph{\DUrole{n}{lang}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}en\textquotesingle{}}}, \emph{\DUrole{n}{api}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}https://tagme.d4science.org/tagme/tag\textquotesingle{}}}, \emph{\DUrole{n}{long\_text}\DUrole{o}{=}\DUrole{default_value}{3}}}{}
\sphinxAtStartPar
Annotate a text, linking it to Wikipedia entities.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{is\_twitter\_text}} \textendash{} true if the text is a tweet, in this case it’s possible pass the json as text parameter

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} \textendash{} the text to annotate.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{gcube\_token}} \textendash{} the authentication token provided by the D4Science infrastructure.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lang}} \textendash{} the Wikipedia language.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{api}} \textendash{} the API endpoint.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{long\_text}} \textendash{} long\_text parameter (see TagMe documentation).

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{mentions() (in module hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{mentions()}\spxextra{in module hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.mentions}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{mentions}}}{\emph{\DUrole{n}{text}}, \emph{\DUrole{n}{gcube\_token}\DUrole{o}{=}\DUrole{default_value}{None}}, \emph{\DUrole{n}{lang}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}en\textquotesingle{}}}, \emph{\DUrole{n}{api}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}https://tagme.d4science.org/tagme/spot\textquotesingle{}}}}{}
\sphinxAtStartPar
Find possible mentions in a text, do not link them to any entity.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} \textendash{} the text where to find mentions.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{gcube\_token}} \textendash{} the authentication token provided by the D4Science infrastructure.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lang}} \textendash{} the Wikipedia language.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{api}} \textendash{} the API endpoint.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{normalize\_title() (in module hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{normalize\_title()}\spxextra{in module hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.normalize_title}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{normalize\_title}}}{\emph{\DUrole{n}{title}}}{}
\sphinxAtStartPar
Normalize a title to Wikipedia format. E.g. “barack Obama” becomes “Barack\_Obama”
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{title}} \textendash{} a title to normalize.

\end{description}\end{quote}

\end{fulllineitems}

\index{relatedness\_title() (in module hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{relatedness\_title()}\spxextra{in module hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.relatedness_title}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{relatedness\_title}}}{\emph{\DUrole{n}{tt\_pairs}}, \emph{\DUrole{n}{gcube\_token}\DUrole{o}{=}\DUrole{default_value}{None}}, \emph{\DUrole{n}{lang}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}en\textquotesingle{}}}, \emph{\DUrole{n}{api}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}https://tagme.d4science.org/tagme/rel\textquotesingle{}}}}{}
\sphinxAtStartPar
Get the semantic relatedness among pairs of entities. Entities are indicated by their
Wikipedia ID (an integer).
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tt\_pairs}} \textendash{} either one pair or a list of pairs of entity titles.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{gcube\_token}} \textendash{} the authentication token provided by the D4Science infrastructure.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lang}} \textendash{} the Wikipedia language.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{api}} \textendash{} the API endpoint.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{relatedness\_wid() (in module hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{relatedness\_wid()}\spxextra{in module hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.relatedness_wid}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{relatedness\_wid}}}{\emph{\DUrole{n}{wid\_pairs}}, \emph{\DUrole{n}{gcube\_token}\DUrole{o}{=}\DUrole{default_value}{None}}, \emph{\DUrole{n}{lang}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}en\textquotesingle{}}}, \emph{\DUrole{n}{api}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}https://tagme.d4science.org/tagme/rel\textquotesingle{}}}}{}
\sphinxAtStartPar
Get the semantic relatedness among pairs of entities. Entities are indicated by their
Wikipedia ID (an integer).
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{wid\_pairs}} \textendash{} either one pair or a list of pairs of Wikipedia IDs.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{gcube\_token}} \textendash{} the authentication token provided by the D4Science infrastructure.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lang}} \textendash{} the Wikipedia language.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{api}} \textendash{} the API endpoint.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{title\_to\_uri() (in module hate\_tweet\_map.tweets\_processor.MyTagMe)@\spxentry{title\_to\_uri()}\spxextra{in module hate\_tweet\_map.tweets\_processor.MyTagMe}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.MyTagMe.title_to_uri}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.MyTagMe.}}\sphinxbfcode{\sphinxupquote{title\_to\_uri}}}{\emph{\DUrole{n}{entity\_title}}, \emph{\DUrole{n}{lang}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}en\textquotesingle{}}}}{}
\sphinxAtStartPar
Get the URI of the page describing a Wikipedia entity.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{entity\_title}} \textendash{} an entity title.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lang}} \textendash{} the Wikipedia language.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{Entity Linker Service}
\label{\detokenize{code_comment/tweet_processor:module-hate_tweet_map.tweets_processor.EntityLinker}}\label{\detokenize{code_comment/tweet_processor:entity-linker-service}}\index{module@\spxentry{module}!hate\_tweet\_map.tweets\_processor.EntityLinker@\spxentry{hate\_tweet\_map.tweets\_processor.EntityLinker}}\index{hate\_tweet\_map.tweets\_processor.EntityLinker@\spxentry{hate\_tweet\_map.tweets\_processor.EntityLinker}!module@\spxentry{module}}
\sphinxAtStartPar
Entity Linker
\index{EntityLinker (class in hate\_tweet\_map.tweets\_processor.EntityLinker)@\spxentry{EntityLinker}\spxextra{class in hate\_tweet\_map.tweets\_processor.EntityLinker}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.EntityLinker.EntityLinker}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.EntityLinker.}}\sphinxbfcode{\sphinxupquote{EntityLinker}}}{\emph{\DUrole{n}{path\_to\_cnfg\_file}}}{}~\index{tag() (hate\_tweet\_map.tweets\_processor.EntityLinker.EntityLinker method)@\spxentry{tag()}\spxextra{hate\_tweet\_map.tweets\_processor.EntityLinker.EntityLinker method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.EntityLinker.EntityLinker.tag}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{tag}}}{\emph{\DUrole{n}{raw\_tweet}\DUrole{p}{:} \DUrole{n}{str}}, \emph{\DUrole{n}{lang}\DUrole{p}{:} \DUrole{n}{str}}}{{ $\rightarrow$ list}}
\sphinxAtStartPar
This method send the text to tag on TagMe service and return the response
:param raw\_tweet: the text of the tweet to tag
:type raw\_tweet: str
:param lang: tha language to use to tag the entities
:type lang: str
:return: a list with the id of the entities, the title and the url of the wikipedia page.
:rtype: list

\end{fulllineitems}


\end{fulllineitems}



\subsection{Tweet Processor}
\label{\detokenize{code_comment/tweet_processor:module-hate_tweet_map.tweets_processor.TweetProcessor}}\label{\detokenize{code_comment/tweet_processor:tweet-processor}}\index{module@\spxentry{module}!hate\_tweet\_map.tweets\_processor.TweetProcessor@\spxentry{hate\_tweet\_map.tweets\_processor.TweetProcessor}}\index{hate\_tweet\_map.tweets\_processor.TweetProcessor@\spxentry{hate\_tweet\_map.tweets\_processor.TweetProcessor}!module@\spxentry{module}}\index{ProcessTweet (class in hate\_tweet\_map.tweets\_processor.TweetProcessor)@\spxentry{ProcessTweet}\spxextra{class in hate\_tweet\_map.tweets\_processor.TweetProcessor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_processor.TweetProcessor.}}\sphinxbfcode{\sphinxupquote{ProcessTweet}}}{\emph{\DUrole{n}{path\_to\_cnfg\_file}}}{}~\index{\_\_feel\_it\_analyze\_sentiment() (hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method)@\spxentry{\_\_feel\_it\_analyze\_sentiment()}\spxextra{hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet.__feel_it_analyze_sentiment}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_feel\_it\_analyze\_sentiment}}}{\emph{\DUrole{n}{tweet\_text}\DUrole{p}{:} \DUrole{n}{str}}, \emph{\DUrole{n}{tweet}\DUrole{p}{:} \DUrole{n}{dict}}}{{ $\rightarrow$ Tuple\DUrole{p}{{[}}int\DUrole{p}{, }dict\DUrole{p}{, }dict\DUrole{p}{{]}}}}
\sphinxAtStartPar
This method use the feel\sphinxhyphen{}it algorithms to perform the sentiment and emotion analysis.

\begin{DUlineblock}{0em}
\item[] NB. these models works only with italian language.
\end{DUlineblock}
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweet\_text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} the text of the tweet

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweet}} (\sphinxstyleliteralemphasis{\sphinxupquote{dict}}) \textendash{} a dict representing the tweet

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
the id of the process: 3; a dictionary that contains the result of the analysis; the tweet analyzed

\item[{Return type}] \leavevmode
\sphinxAtStartPar
Tuple{[}int, dict, dict{]}

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_get\_osm\_coordinates() (hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method)@\spxentry{\_\_get\_osm\_coordinates()}\spxextra{hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet.__get_osm_coordinates}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_get\_osm\_coordinates}}}{\emph{\DUrole{n}{tweet}\DUrole{p}{:} \DUrole{n}{dict}}, \emph{\DUrole{n}{user\_location}\DUrole{p}{:} \DUrole{n}{Optional\DUrole{p}{{[}}str\DUrole{p}{{]}}}}, \emph{\DUrole{n}{city}\DUrole{p}{:} \DUrole{n}{Optional\DUrole{p}{{[}}str\DUrole{p}{{]}}}}, \emph{\DUrole{n}{country}\DUrole{p}{:} \DUrole{n}{Optional\DUrole{p}{{[}}str\DUrole{p}{{]}}}}}{{ $\rightarrow$ Tuple\DUrole{p}{{[}}int\DUrole{p}{, }bool\DUrole{p}{, }dict\DUrole{p}{, }dict\DUrole{p}{{]}}}}
\sphinxAtStartPar
This method use the Open Street Map service to find the coordinates of a specific location.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweet}} (\sphinxstyleliteralemphasis{\sphinxupquote{dict}}) \textendash{} the tweet analyzed

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{user\_location}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} the user\_location if the tweet contains it

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{city}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} the city from where the tweet has been posted if the tweet contains it

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{country}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} the country from where the tweet has been posted if the tweet contains it

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
the id of the process: 5; a dictionary that contains the result of the analysis; the tweet analyzed

\item[{Return type}] \leavevmode
\sphinxAtStartPar
Tuple{[}int, bool, dict, dict{]}

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_link\_entity() (hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method)@\spxentry{\_\_link\_entity()}\spxextra{hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet.__link_entity}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_link\_entity}}}{\emph{\DUrole{n}{tweet\_text}\DUrole{p}{:} \DUrole{n}{str}}, \emph{\DUrole{n}{tweet}\DUrole{p}{:} \DUrole{n}{dict}}}{{ $\rightarrow$ Tuple\DUrole{p}{{[}}int\DUrole{p}{, }dict\DUrole{p}{, }dict\DUrole{p}{{]}}}}
\sphinxAtStartPar
This method use the sent\sphinxhyphen{}it uniba service to perform the sentiment analyses of the tweet.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweet\_text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} the text of the tweet

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweet}} (\sphinxstyleliteralemphasis{\sphinxupquote{dict}}) \textendash{} a dictionary representing the tweet

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
the id of the process:1; a dictionary representing the result of the analyses; a dictionary representing the original tweet.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
Tuple{[}int, dict, dict{]}

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_process\_text\_with\_spacy() (hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method)@\spxentry{\_\_process\_text\_with\_spacy()}\spxextra{hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet.__process_text_with_spacy}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_process\_text\_with\_spacy}}}{\emph{\DUrole{n}{text\_tweet}\DUrole{p}{:} \DUrole{n}{str}}, \emph{\DUrole{n}{tweet}\DUrole{p}{:} \DUrole{n}{dict}}}{{ $\rightarrow$ Tuple\DUrole{p}{{[}}int\DUrole{p}{, }dict\DUrole{p}{, }dict\DUrole{p}{{]}}}}
\sphinxAtStartPar
This method perform the natural language processing on the tweet text using spacy.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text\_tweet}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} the text of the tweet

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweet}} (\sphinxstyleliteralemphasis{\sphinxupquote{dict}}) \textendash{} a dict representing the tweet

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
the id of the process: 4; a dictionary that contains the result of the analysis; the tweet analyzed

\item[{Return type}] \leavevmode
\sphinxAtStartPar
Tuple{[}int, dict, dict{]}

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_save() (hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method)@\spxentry{\_\_save()}\spxextra{hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet.__save}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_save}}}{\emph{\DUrole{n}{fut}\DUrole{p}{:} \DUrole{n}{concurrent.futures.\_base.Future}}}{}
\sphinxAtStartPar
This is the callback function. when a tweets finish to be processed in it’s thread
this function retrieve the result returned by the function called by the thread, unpack it,
adds the information on the tweet and save it in the db.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{fut}} (\sphinxstyleliteralemphasis{\sphinxupquote{Future}}) \textendash{} the future object that contains the transformation done on the tweet

\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_sent\_it\_analyze\_sentiment() (hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method)@\spxentry{\_\_sent\_it\_analyze\_sentiment()}\spxextra{hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet.__sent_it_analyze_sentiment}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_sent\_it\_analyze\_sentiment}}}{\emph{\DUrole{n}{tweet\_text}\DUrole{p}{:} \DUrole{n}{str}}, \emph{\DUrole{n}{tweet}\DUrole{p}{:} \DUrole{n}{dict}}}{{ $\rightarrow$ Tuple\DUrole{p}{{[}}int\DUrole{p}{, }dict\DUrole{p}{, }dict\DUrole{p}{{]}}}}
\sphinxAtStartPar
This method use the sent\sphinxhyphen{}it uniba service to perform the sentiment analyses of the tweet:
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweet\_text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} the text of the tweet

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweet}} (\sphinxstyleliteralemphasis{\sphinxupquote{dict}}) \textendash{} a dictionary representing the tweet

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
the id of the process:2; a dictionary represent the result of the analysis (empty if something goes wrong); a dictionary representing the original tweet.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
Tuple{[}int, dict, dict{]}

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_sent\_it\_analyze\_sentiment2() (hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method)@\spxentry{\_\_sent\_it\_analyze\_sentiment2()}\spxextra{hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet.__sent_it_analyze_sentiment2}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_sent\_it\_analyze\_sentiment2}}}{\emph{\DUrole{n}{tweets}\DUrole{p}{:} \DUrole{n}{list}}}{{ $\rightarrow$ Tuple\DUrole{p}{{[}}int\DUrole{p}{, }list\DUrole{p}{, }list\DUrole{p}{{]}}}}
\sphinxAtStartPar
This method use the sent\sphinxhyphen{}it uniba service to perform the sentiment analyses of the tweet:
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{tweets}} (\sphinxstyleliteralemphasis{\sphinxupquote{list}}) \textendash{} list of tweets to send to sent\_it

\item[{Returns}] \leavevmode
\sphinxAtStartPar
the id of the process:2; a list represent the result of the analysis (empty if something goes wrong); a list representing the original tweets.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
Tuple{[}int, list, list{]}

\end{description}\end{quote}

\end{fulllineitems}

\index{start() (hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method)@\spxentry{start()}\spxextra{hate\_tweet\_map.tweets\_processor.TweetProcessor.ProcessTweet method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_processor:hate_tweet_map.tweets_processor.TweetProcessor.ProcessTweet.start}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{start}}}{}{}
\sphinxAtStartPar
This method start the process on the tweets in according with the configuyration.
For easch phase enabled in the config file the method retrieve the tweets to analyze,
do the analyses and save all tweets process on the database.
So after each phase the tweets processed are updated in the db.
When the field all\_tweets is set to False in the config file for each phase are retrieved from the database
the tweets were the processed field is False and that have not already been processed by that phase
(eg. for sentiment analyses that have not the field sentiment  or for geo that have not the field geo.coordinates).
Instead if the value of all\_tweets is True all the tweets in the db are processed.
:return: None

\end{fulllineitems}


\end{fulllineitems}



\section{Tweets Searcher}
\label{\detokenize{code_comment/tweet_search:tweets-searcher}}\label{\detokenize{code_comment/tweet_search::doc}}

\subsection{Search Tweets}
\label{\detokenize{code_comment/tweet_search:module-hate_tweet_map.tweets_searcher.SearchTweets}}\label{\detokenize{code_comment/tweet_search:search-tweets}}\index{module@\spxentry{module}!hate\_tweet\_map.tweets\_searcher.SearchTweets@\spxentry{hate\_tweet\_map.tweets\_searcher.SearchTweets}}\index{hate\_tweet\_map.tweets\_searcher.SearchTweets@\spxentry{hate\_tweet\_map.tweets\_searcher.SearchTweets}!module@\spxentry{module}}\index{SearchTweets (class in hate\_tweet\_map.tweets\_searcher.SearchTweets)@\spxentry{SearchTweets}\spxextra{class in hate\_tweet\_map.tweets\_searcher.SearchTweets}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_search:hate_tweet_map.tweets_searcher.SearchTweets.SearchTweets}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.tweets\_searcher.SearchTweets.}}\sphinxbfcode{\sphinxupquote{SearchTweets}}}{\emph{\DUrole{n}{mongodb}\DUrole{p}{:} \DUrole{n}{hate\_tweet\_map.database.DataBase}}, \emph{\DUrole{n}{path\_to\_cnfg\_file}\DUrole{p}{:} \DUrole{n}{str}}}{}~\index{\_\_build\_query() (hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method)@\spxentry{\_\_build\_query()}\spxextra{hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_search:hate_tweet_map.tweets_searcher.SearchTweets.SearchTweets.__build_query}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_build\_query}}}{\emph{\DUrole{n}{user}\DUrole{p}{:} \DUrole{n}{Optional\DUrole{p}{{[}}str\DUrole{p}{{]}}} \DUrole{o}{=} \DUrole{default_value}{None}}}{{ $\rightarrow$ None}}
\sphinxAtStartPar
This method build the query to send to twitter
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{user}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} the id or name of the user whose tweets you want, defaults to None

\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_connect\_to\_endpoint() (hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method)@\spxentry{\_\_connect\_to\_endpoint()}\spxextra{hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_search:hate_tweet_map.tweets_searcher.SearchTweets.SearchTweets.__connect_to_endpoint}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_connect\_to\_endpoint}}}{\emph{\DUrole{n}{retried}\DUrole{p}{:} \DUrole{n}{bool} \DUrole{o}{=} \DUrole{default_value}{False}}}{{ $\rightarrow$ dict}}
\sphinxAtStartPar
This method sends the request to twitter and return the response.
The possibles status codes in the twitter response are:
\begin{itemize}
\item {} 
\sphinxAtStartPar
200: ok,in this case the response is a valid response;

\item {} 
\sphinxAtStartPar
429: rate limit exceeded, this means that either more requests were sent per second than allowed or more requests were sent in 15min than allowed. so in this case this method waits 1 second and tries to send the request again,  if twitter still replies with a 429 code, it retrieves from the reply the time when the limit will reset and wait for that time to resubmit the request;

\item {} 
\sphinxAtStartPar
503: service overloaded, this means that twitter can’t response to our requesst because there too many request to process. In this case this method wait for a minute and then retry to send the request.

\item {} 
\sphinxAtStartPar
others: in this case the method raises an exception

\end{itemize}
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{retried}} (\sphinxstyleliteralemphasis{\sphinxupquote{bool}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} a parameter that indicate if it is the first retry after an error or not, defaults to False

\item[{Raises}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{Exception}} \textendash{} when twitter response with not 200 or 429 status code.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
dict that contains the response from twitter

\item[{Return type}] \leavevmode
\sphinxAtStartPar
dict

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_make() (hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method)@\spxentry{\_\_make()}\spxextra{hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_search:hate_tweet_map.tweets_searcher.SearchTweets.SearchTweets.__make}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_make}}}{}{{ $\rightarrow$ None}}
\sphinxAtStartPar
This method sends the request to twitter, elaborates it and saves the response.
After the first search the number of tweets contained in the response are checked,
if this number is equal to the number of result wanted set in the config file the method stop to send request.
If this number is less than the number of result wanted set in the config file, the difference between the two number are
done and a new request with this number as max\_result query field are send, so this method a called with
result\_obtained\_yet parameter updated. Note that if the difference between the number of tweets obtained and the
number of tweets wanted is greater than 500 the max\_result query field for the next request is set to 500 instead
if is less than 10 the max\_result query field for the next request is set to 10.
Moreover if the all\_tweets parameters is set to True on the file config this method resend the request to twitter
asking for 500 tweets per time (max\_result = 500) until the end of the result is not reached.
\begin{quote}\begin{description}
\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_next\_page() (hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method)@\spxentry{\_\_next\_page()}\spxextra{hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_search:hate_tweet_map.tweets_searcher.SearchTweets.SearchTweets.__next_page}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_next\_page}}}{\emph{\DUrole{n}{next\_token}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}\textquotesingle{}}}}{{ $\rightarrow$ None}}
\sphinxAtStartPar
Insert in the query the token to obtain the next page of the tesult of the search.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{next\_token}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} the token obtained from twitter to reach the next page of the search

\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_save() (hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method)@\spxentry{\_\_save()}\spxextra{hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_search:hate_tweet_map.tweets_searcher.SearchTweets.SearchTweets.__save}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_save}}}{}{}
\sphinxAtStartPar
THis method are called after that a request have been sent to twitter. When called this method process all
the tweets received in parallel using the multithreading and then save all tweets processed on the database.
Note that process only the tweet not already in the database.
\begin{quote}\begin{description}
\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{search() (hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method)@\spxentry{search()}\spxextra{hate\_tweet\_map.tweets\_searcher.SearchTweets.SearchTweets method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/tweet_search:hate_tweet_map.tweets_searcher.SearchTweets.SearchTweets.search}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{search}}}{}{{ $\rightarrow$ int}}
\sphinxAtStartPar
This method start the search on twitter. So first build the query and then send it to twitter.
If are set in the config file more users for each user tries to
retrieve the number of tweets set in n\_result config file field, only after reach this number perform the
search on the next user.
\begin{quote}\begin{description}
\item[{Returns}] \leavevmode
\sphinxAtStartPar
the number of the total tweets saved

\item[{Return type}] \leavevmode
\sphinxAtStartPar
int

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}



\section{Users Searcher}
\label{\detokenize{code_comment/user_search:users-searcher}}\label{\detokenize{code_comment/user_search::doc}}

\subsection{Search Users}
\label{\detokenize{code_comment/user_search:module-hate_tweet_map.users_searcher.SearchUsers}}\label{\detokenize{code_comment/user_search:search-users}}\index{module@\spxentry{module}!hate\_tweet\_map.users\_searcher.SearchUsers@\spxentry{hate\_tweet\_map.users\_searcher.SearchUsers}}\index{hate\_tweet\_map.users\_searcher.SearchUsers@\spxentry{hate\_tweet\_map.users\_searcher.SearchUsers}!module@\spxentry{module}}\index{UserSearch (class in hate\_tweet\_map.users\_searcher.SearchUsers)@\spxentry{UserSearch}\spxextra{class in hate\_tweet\_map.users\_searcher.SearchUsers}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/user_search:hate_tweet_map.users_searcher.SearchUsers.UserSearch}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{hate\_tweet\_map.users\_searcher.SearchUsers.}}\sphinxbfcode{\sphinxupquote{UserSearch}}}{\emph{\DUrole{n}{path\_to\_cnfg\_file}}}{}~\index{\_\_build\_query() (hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method)@\spxentry{\_\_build\_query()}\spxextra{hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/user_search:hate_tweet_map.users_searcher.SearchUsers.UserSearch.__build_query}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_build\_query}}}{\emph{\DUrole{n}{users}\DUrole{p}{:} \DUrole{n}{str}}}{{ $\rightarrow$ None}}
\sphinxAtStartPar
This method build the query to send to the twitter api.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{users}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} a string that contains all the user’s ids to search separated by a comma

\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_connect\_to\_endpoint() (hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method)@\spxentry{\_\_connect\_to\_endpoint()}\spxextra{hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/user_search:hate_tweet_map.users_searcher.SearchUsers.UserSearch.__connect_to_endpoint}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_connect\_to\_endpoint}}}{\emph{\DUrole{n}{retried}\DUrole{o}{=}\DUrole{default_value}{False}}}{{ $\rightarrow$ dict}}
\sphinxAtStartPar
This method sends the request to twitter and return the response.
The possibles status codes in the twitter response are:
\begin{itemize}
\item {} 
\sphinxAtStartPar
200: ok,in this case the response is a valid response;

\item {} 
\sphinxAtStartPar
429: rate limit exceeded, this means that either more requests were sent per second than allowed or more requests were sent in 15min than allowed. so in this case this method waits 1 second and tries to send the request again,  if twitter still replies with a 429 code, it retrieves from the reply the time when the limit will reset and wait for that time to resubmit the request;

\item {} 
\sphinxAtStartPar
others: in this case the method raises an exception

\end{itemize}
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{retried}} (\sphinxstyleliteralemphasis{\sphinxupquote{bool}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} a parameter that indicate if it is the first retry after an error or not, defaults to False

\item[{Raises}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{Exception}} \textendash{} when twitter response with not 200 or 429 status code.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
dict that contains the response from twitter

\item[{Return type}] \leavevmode
\sphinxAtStartPar
dict

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_make() (hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method)@\spxentry{\_\_make()}\spxextra{hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/user_search:hate_tweet_map.users_searcher.SearchUsers.UserSearch.__make}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_make}}}{}{{ $\rightarrow$ None}}
\sphinxAtStartPar
This method calls the method that send the request to twitter than elaborates and save the response.
\begin{quote}\begin{description}
\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{\_\_retrieve\_users\_id() (hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method)@\spxentry{\_\_retrieve\_users\_id()}\spxextra{hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/user_search:hate_tweet_map.users_searcher.SearchUsers.UserSearch.__retrieve_users_id}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_retrieve\_users\_id}}}{}{{ $\rightarrow$ None}}
\sphinxAtStartPar
This method retrieve all the id of the tweets from the database, than retrieve the id of the users already
saved, subtract from the users obtained from the tweets the users already saved and finally save these user’s
ids in a list

\end{fulllineitems}

\index{\_\_save() (hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method)@\spxentry{\_\_save()}\spxextra{hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/user_search:hate_tweet_map.users_searcher.SearchUsers.UserSearch.__save}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{\_\_save}}}{}{{ $\rightarrow$ None}}
\sphinxAtStartPar
This method process in parallel all the tweets received from one request and save
all processed tweets in the db.

\sphinxAtStartPar
:return None

\end{fulllineitems}

\index{search() (hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method)@\spxentry{search()}\spxextra{hate\_tweet\_map.users\_searcher.SearchUsers.UserSearch method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/user_search:hate_tweet_map.users_searcher.SearchUsers.UserSearch.search}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{search}}}{}{{ $\rightarrow$ None}}
\sphinxAtStartPar
This method search, elaborate and save the users on the database.
The Twitter Search Users endpoint allow to search for 100 users per request.
If the users to search are more than 100 the number of users to search are split in subset of 100
and the relative requests are sent.
\begin{quote}\begin{description}
\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}



\section{Manage Tweets}
\label{\detokenize{code_comment/manage_tweets:manage-tweets}}\label{\detokenize{code_comment/manage_tweets::doc}}

\subsection{Manage Tweets}
\label{\detokenize{code_comment/manage_tweets:id1}}\phantomsection\label{\detokenize{code_comment/manage_tweets:module-script.manage_tweets.manage_tweets}}\index{module@\spxentry{module}!script.manage\_tweets.manage\_tweets@\spxentry{script.manage\_tweets.manage\_tweets}}\index{script.manage\_tweets.manage\_tweets@\spxentry{script.manage\_tweets.manage\_tweets}!module@\spxentry{module}}\index{main() (in module script.manage\_tweets.manage\_tweets)@\spxentry{main()}\spxextra{in module script.manage\_tweets.manage\_tweets}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code_comment/manage_tweets:script.manage_tweets.manage_tweets.main}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{script.manage\_tweets.manage\_tweets.}}\sphinxbfcode{\sphinxupquote{main}}}{}{}~\begin{description}
\item[{Using this script is possible:}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
extract some tweets from the database and save it on .json or .csv file

\item {} 
\sphinxAtStartPar
delete some tweets

\end{itemize}

\end{description}

\sphinxAtStartPar
The criteria to select the tweets to extract/delete are defined in the manage\_tweets.config file.
Is possible modify that file to set the criteria.
The possible criteria are:
\begin{itemize}
\item {} 
\sphinxAtStartPar
contains some specific word/words. In this case it is possible or write a list of words separated by comma in the words field, or use a txt file and write it path in the path field.

\item {} 
\sphinxAtStartPar
contains a specific sentiment

\item {} 
\sphinxAtStartPar
contains a word with a specific Part Of Speech (POS)

\item {} 
\sphinxAtStartPar
raw criteria: a query written in mongodb style

\end{itemize}

\sphinxAtStartPar
These criteria and the words specified in the relative field/file are connected with the “OR” logical operator
or with the “AND” logical operator. It is possible specify which operator must be used setting the logical\_operator field in the config file.
\begin{quote}\begin{description}
\item[{Returns}] \leavevmode
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}



\chapter{User Guide}
\label{\detokenize{guide/guide:user-guide}}\label{\detokenize{guide/guide::doc}}

\section{Initialization}
\label{\detokenize{guide/setup:initialization}}\label{\detokenize{guide/setup::doc}}

\subsection{Setup}
\label{\detokenize{guide/setup:setup}}
\sphinxAtStartPar
To use the Hate Tweet Map tools it’s sufficient install the requires module,
so just open a terminal, move into the root directory of the project and run:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{python} \PYG{n}{setup}\PYG{o}{.}\PYG{n}{py} \PYG{n}{install}
\PYG{n}{python} \PYG{n}{setup}\PYG{o}{.}\PYG{n}{py} \PYG{n}{install\PYGZus{}lib}
\end{sphinxVerbatim}

\sphinxAtStartPar
That’s all.


\section{Scripts}
\label{\detokenize{guide/script:scripts}}\label{\detokenize{guide/script::doc}}

\subsection{Search Tweets Script}
\label{\detokenize{guide/tweet_search_guide:search-tweets-script}}\label{\detokenize{guide/tweet_search_guide::doc}}

\subsubsection{Configuration file}
\label{\detokenize{guide/tweet_search_guide:configuration-file}}
\sphinxAtStartPar
To search tweets on twitter the first thing to do is edit
the configuration file search\_tweets.config in the script/search\_tweets folder.
The configuration file looks like this:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{mongodb}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} default url}
    \PYG{n+nt}{url}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{mongodb://localhost:27017/}
    \PYG{n+nt}{database}\PYG{p}{:}
    \PYG{n+nt}{collection}\PYG{p}{:}
\PYG{n+nt}{twitter}\PYG{p}{:}
    \PYG{n+nt}{configuration}\PYG{p}{:}
        \PYG{n+nt}{barer\PYGZus{}token}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{AAAAAAAAAAAAAAAAAAAAAAPtPgEAAAAAoVlZ4I0szkcu4dL\PYGZpc{}2Bhqif\PYGZpc{}2F\PYGZpc{}2BF45Oo\PYGZpc{}3DJbvSo773bskLu1GexDv9Dq1HjuSjfSwfxgLdDXEdlPO5mKyE6G}
        \PYG{n+nt}{end\PYGZus{}point}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{https://api.twitter.com/2/tweets/search/all}
    \PYG{n+nt}{search}\PYG{p}{:}
        \PYG{c+c1}{\PYGZsh{} MANDATORY:}
        \PYG{c+c1}{\PYGZsh{} Please fill at least one of the following fields. If both fields are set it\PYGZsq{}s possible to search for a twitter with the given keyword tweeted by the specific user.}

        \PYG{c+c1}{\PYGZsh{} enter the keyword/s to search for on twitter. It\PYGZsq{}s also possible use logical operators. If no logical operator are specified all keywords will be searched in AND.}
        \PYG{c+c1}{\PYGZsh{} the AND operator is handle by a space, so to search \PYGZdq{}Joe AND Trump\PYGZdq{} just write \PYGZdq{}Joe Trump\PYGZdq{}, the OR operator is \PYGZdq{}OR\PYGZdq{}.}
        \PYG{c+c1}{\PYGZsh{} for example: \PYGZdq{}Joe Biden\PYGZdq{}, \PYGZdq{}Biden OR Trump\PYGZdq{}, \PYGZdq{}(Biden OR Trump) whitehouse\PYGZdq{} (the last query means: \PYGZdq{}(Biden OR Trump) AND whitehouse\PYGZdq{}).}
        \PYG{n+nt}{keyword}\PYG{p}{:}

        \PYG{c+c1}{\PYGZsh{} enter the username or the user id to search for tweets of a specific user.}
        \PYG{n+nt}{user}\PYG{p}{:}

        \PYG{c+c1}{\PYGZsh{}OPTIONAL:}
        \PYG{c+c1}{\PYGZsh{} the language of the tweets}
        \PYG{n+nt}{lang}\PYG{p}{:}

        \PYG{c+c1}{\PYGZsh{} enable/disable the twitter context annotation in the twitter response}
        \PYG{n+nt}{context\PYGZus{}annotations}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}

        \PYG{c+c1}{\PYGZsh{} the max results of tweets}
        \PYG{n+nt}{n\PYGZus{}results}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{10}
        \PYG{c+c1}{\PYGZsh{} possible value: True/False}
        \PYG{c+c1}{\PYGZsh{} if this field is set to True the value on n\PYGZus{}result it automatically overwrite and set to 500.}
        \PYG{n+nt}{all\PYGZus{}tweets}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{False}
        \PYG{c+c1}{\PYGZsh{} please see here for information about time fields: https://developer.twitter.com/en/docs/twitter\PYGZhy{}api/tweets/search/api\PYGZhy{}reference/get\PYGZhy{}tweets\PYGZhy{}search\PYGZhy{}all}
        \PYG{c+c1}{\PYGZsh{} you can set:}
            \PYG{c+c1}{\PYGZsh{} 1. only start\PYGZus{}time: if you specify only start time but no end time, end time will be assumed to be current time (\PYGZhy{}30 sec). (see https://twittercommunity.com/t/twitter\PYGZhy{}api\PYGZhy{}v2\PYGZhy{}search\PYGZhy{}endpoint\PYGZhy{}what\PYGZhy{}is\PYGZhy{}start\PYGZhy{}time\PYGZhy{}and\PYGZhy{}end\PYGZhy{}time\PYGZhy{}actual\PYGZhy{}default/152679)}
            \PYG{c+c1}{\PYGZsh{} 2. only end\PYGZus{}time: If you specify only end time, start time will be assumed 30 days before the end time specified. (see https://twittercommunity.com/t/twitter\PYGZhy{}api\PYGZhy{}v2\PYGZhy{}search\PYGZhy{}endpoint\PYGZhy{}what\PYGZhy{}is\PYGZhy{}start\PYGZhy{}time\PYGZhy{}and\PYGZhy{}end\PYGZhy{}time\PYGZhy{}actual\PYGZhy{}default/152679)}
            \PYG{c+c1}{\PYGZsh{} 3. both: the tweets in the range specified}
            \PYG{c+c1}{\PYGZsh{} 4. none: By default, a request will return Tweets from up to 30 days ago if you do not include this parameters. (see https://developer.twitter.com/en/docs/twitter\PYGZhy{}api/tweets/search/api\PYGZhy{}reference/get\PYGZhy{}tweets\PYGZhy{}search\PYGZhy{}all)}
        \PYG{n+nt}{time}\PYG{p}{:}
            \PYG{c+c1}{\PYGZsh{} format: YYYY\PYGZhy{}MM\PYGZhy{}DDTHH:mm:ssZ (ISO 8601/RFC 3339)}
            \PYG{c+c1}{\PYGZsh{} example value: 2018\PYGZhy{}10\PYGZhy{}19T07:20:50.52+00:00}
            \PYG{n+nt}{start\PYGZus{}time}\PYG{p}{:}
            \PYG{n+nt}{end\PYGZus{}time}\PYG{p}{:}
        \PYG{c+c1}{\PYGZsh{} geo parameter.}
        \PYG{c+c1}{\PYGZsh{} only one of the following fields could be set}
        \PYG{n+nt}{geo}\PYG{p}{:}
            \PYG{n+nt}{place}\PYG{p}{:}
            \PYG{n+nt}{place\PYGZus{}country}\PYG{p}{:}
            \PYG{c+c1}{\PYGZsh{} example value: \PYGZhy{}105.301758 39.964069 \PYGZhy{}105.178505 40.09455}
            \PYG{n+nt}{bounding\PYGZus{}box}\PYG{p}{:}
            \PYG{c+c1}{\PYGZsh{} please if you want search by point radius set all the parameters in the point\PYGZus{}radius section.}
            \PYG{n+nt}{point\PYGZus{}radius}\PYG{p}{:}
                \PYG{c+c1}{\PYGZsh{} example value: 2.355128}
                \PYG{n+nt}{longitude}\PYG{p}{:}
                \PYG{c+c1}{\PYGZsh{} 48.861118}
                \PYG{n+nt}{latitude}\PYG{p}{:}
                \PYG{c+c1}{\PYGZsh{} 16km}
                \PYG{n+nt}{radius}\PYG{p}{:}
        \PYG{c+c1}{\PYGZsh{}Possible values: True/False. When is True only tweet that are not retweet are retrieved. default value: False.}
        \PYG{n+nt}{filter\PYGZus{}retweet}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{False}
\end{sphinxVerbatim}


\paragraph{Mandatory Section}
\label{\detokenize{guide/tweet_search_guide:mandatory-section}}
\sphinxAtStartPar
The mandatory section is this one:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{search}\PYG{p}{:}
        \PYG{c+c1}{\PYGZsh{} MANDATORY:}
        \PYG{c+c1}{\PYGZsh{} Please fill at least one of the following fields. If both fields are set it\PYGZsq{}s possible to search for a twitter with the given keyword tweeted by the specific user.}

        \PYG{c+c1}{\PYGZsh{} enter the keyword/s to search for on twitter. It\PYGZsq{}s also possible use logical operators. If no logical operator are specified all keywords will be searched in AND.}
        \PYG{c+c1}{\PYGZsh{} the AND operator is handle by a space, so to search \PYGZdq{}Joe AND Trump\PYGZdq{} just write \PYGZdq{}Joe Trump\PYGZdq{}, the OR operator is \PYGZdq{}OR\PYGZdq{}.}
        \PYG{c+c1}{\PYGZsh{} for example: \PYGZdq{}Joe Biden\PYGZdq{}, \PYGZdq{}Biden OR Trump\PYGZdq{}, \PYGZdq{}(Biden OR Trump) whitehouse\PYGZdq{} (the last query means: \PYGZdq{}(Biden OR Trump) AND whitehouse\PYGZdq{}).}
        \PYG{n+nt}{keyword}\PYG{p}{:}

        \PYG{c+c1}{\PYGZsh{} enter the username or the user id to search for tweets of a specific user.}
        \PYG{n+nt}{user}\PYG{p}{:}
\end{sphinxVerbatim}

\sphinxAtStartPar
As explained in the comments in the keywords section it is possible
set the keyword (s) that tweets must contain. To search using the logical operator
just use the parentheses and the keyword OR and the space for AND.

\sphinxAtStartPar
In the user field you can enter the user’s ID or username.
Note that at least one of these two fields must be set.
It is also possible to set both fields, which means “search
tweets containing this {[}keyword{]} from this {[}user{]}”.


\paragraph{Optional Section}
\label{\detokenize{guide/tweet_search_guide:optional-section}}
\sphinxAtStartPar
The optional section is:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{}OPTIONAL:}
     \PYG{c+c1}{\PYGZsh{} the language of the tweets}
     \PYG{n+nt}{lang}\PYG{p}{:}

     \PYG{c+c1}{\PYGZsh{} enable/disable the twitter context annotation in the twitter response}
     \PYG{n+nt}{context\PYGZus{}annotations}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}

     \PYG{c+c1}{\PYGZsh{} the max results of tweets}
     \PYG{n+nt}{n\PYGZus{}results}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{10}
     \PYG{c+c1}{\PYGZsh{} possible value: True/False}
     \PYG{c+c1}{\PYGZsh{} if this field is set to True the value on n\PYGZus{}result it automatically overwrite and set to 500.}
     \PYG{n+nt}{all\PYGZus{}tweets}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{False}
     \PYG{c+c1}{\PYGZsh{} please see here for information about time fields: https://developer.twitter.com/en/docs/twitter\PYGZhy{}api/tweets/search/api\PYGZhy{}reference/get\PYGZhy{}tweets\PYGZhy{}search\PYGZhy{}all}
     \PYG{c+c1}{\PYGZsh{} you can set:}
         \PYG{c+c1}{\PYGZsh{} 1. only start\PYGZus{}time: if you specify only start time but no end time, end time will be assumed to be current time (\PYGZhy{}30 sec). (see https://twittercommunity.com/t/twitter\PYGZhy{}api\PYGZhy{}v2\PYGZhy{}search\PYGZhy{}endpoint\PYGZhy{}what\PYGZhy{}is\PYGZhy{}start\PYGZhy{}time\PYGZhy{}and\PYGZhy{}end\PYGZhy{}time\PYGZhy{}actual\PYGZhy{}default/152679)}
         \PYG{c+c1}{\PYGZsh{} 2. only end\PYGZus{}time: If you specify only end time, start time will be assumed 30 days before the end time specified. (see https://twittercommunity.com/t/twitter\PYGZhy{}api\PYGZhy{}v2\PYGZhy{}search\PYGZhy{}endpoint\PYGZhy{}what\PYGZhy{}is\PYGZhy{}start\PYGZhy{}time\PYGZhy{}and\PYGZhy{}end\PYGZhy{}time\PYGZhy{}actual\PYGZhy{}default/152679)}
         \PYG{c+c1}{\PYGZsh{} 3. both: the tweets in the range specified}
         \PYG{c+c1}{\PYGZsh{} 4. none: By default, a request will return Tweets from up to 30 days ago if you do not include this parameters. (see https://developer.twitter.com/en/docs/twitter\PYGZhy{}api/tweets/search/api\PYGZhy{}reference/get\PYGZhy{}tweets\PYGZhy{}search\PYGZhy{}all)}
     \PYG{n+nt}{time}\PYG{p}{:}
         \PYG{c+c1}{\PYGZsh{} format: YYYY\PYGZhy{}MM\PYGZhy{}DDTHH:mm:ssZ (ISO 8601/RFC 3339)}
         \PYG{c+c1}{\PYGZsh{} example value: 2018\PYGZhy{}10\PYGZhy{}19T07:20:50.52+00:00}
         \PYG{n+nt}{start\PYGZus{}time}\PYG{p}{:}
         \PYG{n+nt}{end\PYGZus{}time}\PYG{p}{:}
     \PYG{c+c1}{\PYGZsh{} geo parameter.}
     \PYG{c+c1}{\PYGZsh{} only one of the following fields could be set}
     \PYG{n+nt}{geo}\PYG{p}{:}
         \PYG{n+nt}{place}\PYG{p}{:}
         \PYG{n+nt}{place\PYGZus{}country}\PYG{p}{:}
         \PYG{c+c1}{\PYGZsh{} example value: \PYGZhy{}105.301758 39.964069 \PYGZhy{}105.178505 40.09455}
         \PYG{n+nt}{bounding\PYGZus{}box}\PYG{p}{:}
         \PYG{c+c1}{\PYGZsh{} please if you want search by point radius set all the parameters in the point\PYGZus{}radius section.}
         \PYG{n+nt}{point\PYGZus{}radius}\PYG{p}{:}
             \PYG{c+c1}{\PYGZsh{} example value: 2.355128}
             \PYG{n+nt}{longitude}\PYG{p}{:}
             \PYG{c+c1}{\PYGZsh{} 48.861118}
             \PYG{n+nt}{latitude}\PYG{p}{:}
             \PYG{c+c1}{\PYGZsh{} 16km}
             \PYG{n+nt}{radius}\PYG{p}{:}
     \PYG{c+c1}{\PYGZsh{}Possible values: True/False. When is True only tweet that are not retweet are retrieved. default value: False.}
     \PYG{n+nt}{filter\PYGZus{}retweet}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{False}
\end{sphinxVerbatim}

\sphinxAtStartPar
As shown is composed by 7 sub\sphinxhyphen{}section:
\begin{quote}

\begin{DUlineblock}{0em}
\item[] {\hyperref[\detokenize{guide/tweet_search_guide:lang}]{\sphinxcrossref{1. Lang}}}
\item[] {\hyperref[\detokenize{guide/tweet_search_guide:context-annotation}]{\sphinxcrossref{2. Context Annotation}}}
\item[] {\hyperref[\detokenize{guide/tweet_search_guide:number-of-results}]{\sphinxcrossref{3. Number of results}}}
\item[] {\hyperref[\detokenize{guide/tweet_search_guide:reach-all-tweets}]{\sphinxcrossref{4. Reach all tweets}}}
\item[] {\hyperref[\detokenize{guide/tweet_search_guide:time}]{\sphinxcrossref{5. Time}}}
\item[] {\hyperref[\detokenize{guide/tweet_search_guide:geo}]{\sphinxcrossref{6. Geo}}}
\item[] {\hyperref[\detokenize{guide/tweet_search_guide:filter-retweet}]{\sphinxcrossref{7. Filter retweet}}}
\end{DUlineblock}
\end{quote}


\subparagraph{1. Lang}
\label{\detokenize{guide/tweet_search_guide:lang}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} the language of the tweets}
\PYG{n+nt}{lang}\PYG{p}{:}
\end{sphinxVerbatim}

\sphinxAtStartPar
This field indicate the language of the tweets that you
want retrieve.

\begin{DUlineblock}{0em}
\item[] From Twitter Api Doc:
\end{DUlineblock}

\sphinxAtStartPar
\sphinxstyleemphasis{Restricts tweets to the given language, given by an} \sphinxhref{https://en.wikipedia.org/wiki/List\_of\_ISO\_639-1\_codes}{ISO 639\sphinxhyphen{}1 code} .
\sphinxstyleemphasis{Language detection is best\sphinxhyphen{}effort.}

\begin{DUlineblock}{0em}
\item[] An example values: it, en, pt, es.
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{any ISO\sphinxhyphen{}639\sphinxhyphen{}1 code}
\end{DUlineblock}


\subparagraph{2. Context Annotation}
\label{\detokenize{guide/tweet_search_guide:context-annotation}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} enable/disable the twitter context annotation in the twitter response}
\PYG{n+nt}{context\PYGZus{}annotations}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] This field indicate to Twitter to include or not the context annotation for tweet that have it.
\item[] If this field is set to \sphinxcode{\sphinxupquote{True}} the \sphinxcode{\sphinxupquote{n\_results}} field will be se automatically yo 100 in according to the TwitterAPI doc.
\item[] For more information see the official doc \sphinxhref{https://developer.twitter.com/en/docs/twitter-api/annotations}{here.}
\end{DUlineblock}

\sphinxAtStartPar
\sphinxstylestrong{Possible values}: \sphinxstyleemphasis{True/False}


\subparagraph{3. Number of results}
\label{\detokenize{guide/tweet_search_guide:number-of-results}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} the max results of tweets}
\PYG{n+nt}{n\PYGZus{}results}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{10}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] This field indicate to Twitter to how may tweets the response should contain.
\item[] Twiiter allow to search for minimum 10 tweets to maximum 500 tweets for request.
\item[] So if the value insert in this field is less than 10 this field automatically will be set to 10; if the value insert is greater than 500 more requests will be send to Twitter.
\item[] Note that Twitter to reach a number of tweets as close as possible to the value given here.
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{any int number}.
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] N.B
\item[] If the \sphinxcode{\sphinxupquote{all\_tweets}} field is set to True this field automatically will be set to 500 whatever value is insert here.
\item[] If the \sphinxcode{\sphinxupquote{context\_annotation}} field is set to True this field automatically will be set to 100 whatever value is insert here.
\item[] If the \sphinxcode{\sphinxupquote{all\_tweets}} field is set to True and \sphinxcode{\sphinxupquote{context\_annotation}} field is set to True this field automatically will be set to 100 whatever value is insert here.
\end{DUlineblock}


\subparagraph{4. Reach all tweets}
\label{\detokenize{guide/tweet_search_guide:reach-all-tweets}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} if this field is set to True the value on n\PYGZus{}result it automatically overwrite and set to 500.}
\PYG{n+nt}{all\PYGZus{}tweets}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{False}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] When a research is send to Twitter it responds with the number of tweets asked and, if possible, with a \sphinxcode{\sphinxupquote{next\_token}}, this token allow to go to the next page of results.
\item[] So this field indicate to the script to iterate all over the pages returned by Twitter.
\item[] In this case the \sphinxcode{\sphinxupquote{n\_results}} field will be set automatically to 500 to obtain 500 tweets per time.
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{True/False}.
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] N.B
\item[] Setting this field to True means start a very time expensive research.
\end{DUlineblock}


\subparagraph{5. Time}
\label{\detokenize{guide/tweet_search_guide:time}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} please see here for information about time fields: https://developer.twitter.com/en/docs/twitter\PYGZhy{}api/tweets/search/api\PYGZhy{}reference/get\PYGZhy{}tweets\PYGZhy{}search\PYGZhy{}all}
\PYG{c+c1}{\PYGZsh{} you can set:}
   \PYG{c+c1}{\PYGZsh{} 1. only start\PYGZus{}time: if you specify only start time but no end time, end time will be assumed to be current time (\PYGZhy{}30 sec). (see https://twittercommunity.com/t/twitter\PYGZhy{}api\PYGZhy{}v2\PYGZhy{}search\PYGZhy{}endpoint\PYGZhy{}what\PYGZhy{}is\PYGZhy{}start\PYGZhy{}time\PYGZhy{}and\PYGZhy{}end\PYGZhy{}time\PYGZhy{}actual\PYGZhy{}default/152679)}
   \PYG{c+c1}{\PYGZsh{} 2. only end\PYGZus{}time: If you specify only end time, start time will be assumed 30 days before the end time specified. (see https://twittercommunity.com/t/twitter\PYGZhy{}api\PYGZhy{}v2\PYGZhy{}search\PYGZhy{}endpoint\PYGZhy{}what\PYGZhy{}is\PYGZhy{}start\PYGZhy{}time\PYGZhy{}and\PYGZhy{}end\PYGZhy{}time\PYGZhy{}actual\PYGZhy{}default/152679)}
   \PYG{c+c1}{\PYGZsh{} 3. both: the tweets in the range specified}
   \PYG{c+c1}{\PYGZsh{} 4. none: By default, a request will return Tweets from up to 30 days ago if you do not include this parameters. (see https://developer.twitter.com/en/docs/twitter\PYGZhy{}api/tweets/search/api\PYGZhy{}reference/get\PYGZhy{}tweets\PYGZhy{}search\PYGZhy{}all)}
\PYG{n+nt}{time}\PYG{p}{:}
   \PYG{c+c1}{\PYGZsh{} format: YYYY\PYGZhy{}MM\PYGZhy{}DDTHH:mm:ssZ (ISO 8601/RFC 3339)}
   \PYG{c+c1}{\PYGZsh{} example value: 2018\PYGZhy{}10\PYGZhy{}19T07:20:50.52+00:00}
   \PYG{n+nt}{start\PYGZus{}time}\PYG{p}{:}
   \PYG{n+nt}{end\PYGZus{}time}\PYG{p}{:}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] This field allow to search tweets in a specific range of time.
\item[] There 4 possible configuration:
\end{DUlineblock}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
only \sphinxcode{\sphinxupquote{start\_time}}: if you specify only start time but no \sphinxcode{\sphinxupquote{end\_time}}, \sphinxcode{\sphinxupquote{end\_time}} will be assumed to be current time (\sphinxhyphen{}30 sec).

\item {} 
\sphinxAtStartPar
only \sphinxcode{\sphinxupquote{end\_time}}: if you specify only \sphinxcode{\sphinxupquote{end\_time}}, \sphinxcode{\sphinxupquote{start\_time}} will be assumed 30 days before the \sphinxcode{\sphinxupquote{end\_time}} specified.

\item {} 
\sphinxAtStartPar
both: the tweets in the range specified

\item {} 
\sphinxAtStartPar
none: by default, a request will return tweets from up to 30 days ago if you do not include this parameters.

\end{enumerate}

\begin{DUlineblock}{0em}
\item[] For more information see:
\end{DUlineblock}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxurl{https://twittercommunity.com/t/twitter-api-v2-search-endpoint-what-is-start-time-and-end-time-actual-default/152679}

\item {} 
\sphinxAtStartPar
\sphinxurl{https://developer.twitter.com/en/docs/twitter-api/tweets/search/api-reference/get-tweets-search-all}

\end{itemize}

\begin{DUlineblock}{0em}
\item[] The values in this fields must be in the ISO 8601/RFC 3339 format, so: \sphinxstyleemphasis{YYYY\sphinxhyphen{}MM\sphinxhyphen{}DDTHH:mm:ss+Z}.
\item[] An example value is: \sphinxstyleemphasis{2018\sphinxhyphen{}10\sphinxhyphen{}19T07:20:50.52+00:00} where \sphinxstyleemphasis{00:00} is the time zone.
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{any date in ISO 8601/RFC 3339 format.}
\end{DUlineblock}


\subparagraph{6. Geo}
\label{\detokenize{guide/tweet_search_guide:geo}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{geo}\PYG{p}{:}
      \PYG{n+nt}{place}\PYG{p}{:}
      \PYG{n+nt}{place\PYGZus{}country}\PYG{p}{:}
      \PYG{c+c1}{\PYGZsh{} example value: \PYGZhy{}105.301758 39.964069 \PYGZhy{}105.178505 40.09455}
      \PYG{n+nt}{bounding\PYGZus{}box}\PYG{p}{:}
      \PYG{c+c1}{\PYGZsh{} please if you want search by point radius set all the parameters in the point\PYGZus{}radius section.}
      \PYG{n+nt}{point\PYGZus{}radius}\PYG{p}{:}
          \PYG{c+c1}{\PYGZsh{} example value: 2.355128}
          \PYG{n+nt}{longitude}\PYG{p}{:}
          \PYG{c+c1}{\PYGZsh{} 48.861118}
          \PYG{n+nt}{latitude}\PYG{p}{:}
          \PYG{c+c1}{\PYGZsh{} 16km}
          \PYG{n+nt}{radius}\PYG{p}{:}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] In this section it is possible to set the geographical parameters, in this way it is possible to filter the tweets based on their geographical origin.
\item[] The possible parameters are, please note that \sphinxstylestrong{Only one of these fields must be set}:
\end{DUlineblock}
\begin{quote}

\begin{DUlineblock}{0em}
\item[] \sphinxhyphen{} \sphinxstyleemphasis{place}:
\item[] matches tweets tagged with the specified location or twitter place ID. Multi\sphinxhyphen{}word place names (“New York City”, “Palo Alto”) should be enclosed in quotes.
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{any name of city, enclosed in quotes if the place names ia s multi/word.}
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxhyphen{} \sphinxstyleemphasis{place\_country}:
\item[] attaches tweets where the country code associated with a tagged place/location matches the given ISO alpha\sphinxhyphen{}2 character code.
\item[] You can find a list of valid ISO codes \sphinxhref{https://en.wikipedia.org/wiki/ISO\_3166-1\_alpha-2}{here}
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{any name of country in ISO\_3166\sphinxhyphen{}1\_alpha\sphinxhyphen{}2 format.}
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxhyphen{} \sphinxstyleemphasis{bounding\_box}:
\item[] matches against the place.geo.coordinates object of the Tweet when present, and in Twitter, against a place geo polygon, where the place polygon is fully contained within the defined region.
\item[] \sphinxcode{\sphinxupquote{bounding\_box: west\_long south\_lat east\_long north\_lat}}
\end{DUlineblock}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{west\_long south\_lat}} represent the southwest corner of the bounding box where \sphinxcode{\sphinxupquote{west\_long}} is the longitude of that point, and \sphinxcode{\sphinxupquote{south\_lat}} is the latitude.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{east\_long north\_lat}} represent the northeast corner of the bounding box, where \sphinxcode{\sphinxupquote{east\_long}} is the longitude of that point, and \sphinxcode{\sphinxupquote{north\_lat}} is the latitude.

\item {} 
\sphinxAtStartPar
Width and height of the bounding box must be less than 25mi

\item {} 
\sphinxAtStartPar
Longitude is in the range of \(\pm\)180

\item {} 
\sphinxAtStartPar
Latitude is in the range of \(\pm\)90

\item {} 
\sphinxAtStartPar
All coordinates are in decimal degrees.

\end{itemize}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{4 coordinates in decimal degrees.}
\item[] \sphinxstylestrong{Example}: \sphinxcode{\sphinxupquote{bounding\_box: \sphinxhyphen{}105.301758 39.964069 \sphinxhyphen{}105.178505 40.09455}}
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] \sphinxhyphen{} \sphinxstyleemphasis{point\_radius}:
\item[] matches against the place.geo.coordinates object of the Tweet when present, and in Twitter, against a place geo polygon, where the Place polygon is fully contained within the defined region.
\end{DUlineblock}
\begin{itemize}
\item {} \begin{description}
\item[{longitude:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] longitude is in the range of \(\pm\)180
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{a coordinate in decimal degrees.}
\item[] \sphinxstylestrong{Example}: \sphinxcode{\sphinxupquote{longitude: 48.861118}}
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{latitude:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] latitude is in the range of \(\pm\)90
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{a coordinate in decimal degrees.}
\item[] \sphinxstylestrong{Example}: \sphinxcode{\sphinxupquote{longitude: 48.861118}}
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{radius:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] radius must be less than 25mi; units of radius supported are miles (mi) and kilometers (km); radius must be less than 25mi
\item[] \sphinxstylestrong{Possible values}: \sphinxstyleemphasis{an integer number followed by the string ‘km’ or ‘mi’ to indicate if the value refer to kilometers or miles.}
\item[] \sphinxstylestrong{Example}: \sphinxcode{\sphinxupquote{radius: 10km}}
\end{DUlineblock}

\end{description}

\end{itemize}

\sphinxAtStartPar
See here for more information:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxurl{https://developer.twitter.com/en/docs/tutorials/filtering-tweets-by-location}

\item {} 
\sphinxAtStartPar
\sphinxurl{https://developer.twitter.com/en/docs/twitter-api/tweets/search/integrate/build-a-query}

\end{itemize}
\end{quote}


\subparagraph{7. Filter retweet}
\label{\detokenize{guide/tweet_search_guide:filter-retweet}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{}Possible values: True/False. When is True only tweet that are not retweet are retrieved. default value: False.}
\PYG{n+nt}{filter\PYGZus{}retweet}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{False}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] This field indicate to Twitter to include or not the retweet in the response.
\item[] If is True Twitter response could contain also retweet, if false not.
\end{DUlineblock}

\sphinxAtStartPar
\sphinxstylestrong{Possible values}: \sphinxstyleemphasis{True/False}


\subsubsection{Use the script}
\label{\detokenize{guide/tweet_search_guide:use-the-script}}
\sphinxAtStartPar
After editing and setting the configuration file just open a terminal in the folder script/search\_tweets and launch this command:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{python} \PYG{n}{search\PYGZus{}tweets}\PYG{o}{.}\PYG{n}{py}
\end{sphinxVerbatim}


\subsection{Search Users Script}
\label{\detokenize{guide/user_search_guide:search-users-script}}\label{\detokenize{guide/user_search_guide::doc}}
\sphinxAtStartPar
This script allow to search information about a list of users. Specfically this tools read the tweets from a collection, save the users id  and then
search the information about these users.


\subsubsection{Configuration file}
\label{\detokenize{guide/user_search_guide:configuration-file}}
\sphinxAtStartPar
To search users on twitter the first thing to do is edit
the configuration file search\_users.config in the script/search\_users folder.
The configuration file looks like this:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{mongodb\PYGZus{}tweets}\PYG{p}{:}
    \PYG{n+nt}{url}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{mongodb://localhost:27017/}
    \PYG{n+nt}{database}\PYG{p}{:}
    \PYG{n+nt}{collection}\PYG{p}{:}
\PYG{n+nt}{mongodb\PYGZus{}users}\PYG{p}{:}
    \PYG{n+nt}{url}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{mongodb://localhost:27017/}
    \PYG{n+nt}{database}\PYG{p}{:}
    \PYG{n+nt}{collection}\PYG{p}{:}

\PYG{n+nt}{twitter}\PYG{p}{:}
    \PYG{n+nt}{configuration}\PYG{p}{:}
        \PYG{n+nt}{barer\PYGZus{}token}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{AAAAAAAAAAAAAAAAAAAAAAPtPgEAAAAAoVlZ4I0szkcu4dL\PYGZpc{}2Bhqif\PYGZpc{}2F\PYGZpc{}2BF45Oo\PYGZpc{}3DJbvSo773bskLu1GexDv9Dq1HjuSjfSwfxgLdDXEdlPO5mKyE6G}
        \PYG{n+nt}{end\PYGZus{}point}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{https://api.twitter.com/2/users}
\end{sphinxVerbatim}


\paragraph{Mongodb tweets}
\label{\detokenize{guide/user_search_guide:mongodb-tweets}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{mongodb\PYGZus{}tweets}\PYG{p}{:}
    \PYG{n+nt}{url}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{mongodb://localhost:27017/}
    \PYG{n+nt}{database}\PYG{p}{:}
    \PYG{n+nt}{collection}\PYG{p}{:}
\end{sphinxVerbatim}

\sphinxAtStartPar
This section contains information necessary to connect to the mongo db collection where the tweets are saved and retrieve from it the users ID.


\paragraph{Mongodb Users}
\label{\detokenize{guide/user_search_guide:mongodb-users}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{mongodb\PYGZus{}users}\PYG{p}{:}
    \PYG{n+nt}{url}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{mongodb://localhost:27017/}
    \PYG{n+nt}{database}\PYG{p}{:}
    \PYG{n+nt}{collection}\PYG{p}{:}
\end{sphinxVerbatim}

\sphinxAtStartPar
This section contains information necessary to connect to the mongo db collection where save the users information obtained from Twitter.


\paragraph{Twitter}
\label{\detokenize{guide/user_search_guide:twitter}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{twitter}\PYG{p}{:}
    \PYG{n+nt}{configuration}\PYG{p}{:}
        \PYG{n+nt}{barer\PYGZus{}token}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{AAAAAAAAAAAAAAAAAAAAAAPtPgEAAAAAoVlZ4I0szkcu4dL\PYGZpc{}2Bhqif\PYGZpc{}2F\PYGZpc{}2BF45Oo\PYGZpc{}3DJbvSo773bskLu1GexDv9Dq1HjuSjfSwfxgLdDXEdlPO5mKyE6G}
        \PYG{n+nt}{end\PYGZus{}point}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{https://api.twitter.com/2/users}
\end{sphinxVerbatim}

\sphinxAtStartPar
This section contains information necessary to connect to Twitter API.
Don’t change the value of \sphinxcode{\sphinxupquote{end\_point}} field if you really don’t know what are you doing.
The \sphinxcode{\sphinxupquote{barer\_token}} field it’s related to an Twitter App with research privileges.


\subsubsection{Use the script}
\label{\detokenize{guide/user_search_guide:use-the-script}}
\sphinxAtStartPar
After editing and setting the configuration file just open a terminal in the folder script/search\_users and launch this command:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{python} \PYG{n}{search\PYGZus{}users}\PYG{o}{.}\PYG{n}{py}
\end{sphinxVerbatim}


\subsection{Process Tweets Script}
\label{\detokenize{guide/tweet_processor_guide:process-tweets-script}}\label{\detokenize{guide/tweet_processor_guide::doc}}
\sphinxAtStartPar
This script allow to perform 5 different types of analysis on thw saved tweets.
The possible analysis are:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleemphasis{Entity Linker}: uses the TagMe service to find entities in the text of the tweet and to connect these with the respective wikipedia page.

\item {} 
\sphinxAtStartPar
\sphinxstyleemphasis{Geo}: if present uses the geographic information in the tweet to find the coordinates of the place where the tweet have benn posted. Uses Open Street Map service. (This operation could be time expensive cause OSM allows to send only one request per second.)

\item {} 
\sphinxAtStartPar
\sphinxstyleemphasis{Natural Language Processing}: uses spacy model to lemmatize the text of the tweet. In addition save the POS and the Morphological information and the entities found by spacy in the text.

\item {} 
\sphinxAtStartPar
\sphinxstyleemphasis{Sentiment Analysis}: uses two different services, sent\sphinxhyphen{}it and feel\sphinxhyphen{}it, to perform the sentiment analysis of the tweet. Note that feel/it algorithm works only with italian tweets.

\end{itemize}

\sphinxAtStartPar
Note that there are two mode to select the tweets to analyze:
\begin{itemize}
\item {} 
\sphinxAtStartPar
all the tweets in the collection

\item {} 
\sphinxAtStartPar
only the tweets that have not yet been passed to the Natural Language Phase.

\end{itemize}

\sphinxAtStartPar
To choose the first mode just set the \sphinxcode{\sphinxupquote{analyze\_all\_tweets}} to \sphinxcode{\sphinxupquote{True}} otherwise to \sphinxcode{\sphinxupquote{False}}.

\sphinxAtStartPar
To better understand this mechanism see this:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{If} \PYG{n}{analyze\PYGZus{}all\PYGZus{}tweets} \PYG{o+ow}{is} \PYG{k+kc}{False}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{If} \PYG{n}{geocode}\PYG{o}{=}\PYG{k+kc}{True}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{look} \PYG{k}{for} \PYG{n}{tweet} \PYG{o+ow}{not} \PYG{n}{geocoded} \PYG{n}{yet}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{geocode} \PYG{n}{the} \PYG{n}{tweet} \PYG{p}{(}\PYG{n}{regardless} \PYG{n}{NLP} \PYG{n}{tasks}\PYG{p}{)}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{If} \PYG{n}{NLP}\PYG{o}{=}\PYG{k+kc}{True}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{look} \PYG{k}{for} \PYG{n}{tweet} \PYG{o+ow}{not} \PYG{n}{processed}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{process} \PYG{n}{the} \PYG{n}{tweet}
\PYG{n}{etc}\PYG{o}{.}

\PYG{n}{If} \PYG{n}{analyze\PYGZus{}all\PYGZus{}tweets} \PYG{o+ow}{is} \PYG{k+kc}{True}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{If} \PYG{n}{geocode}\PYG{o}{=}\PYG{k+kc}{True}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{geocode} \PYG{n+nb}{all} \PYG{n}{the} \PYG{n}{tweets} \PYG{p}{(}\PYG{o+ow}{and} \PYG{n}{overwrite} \PYG{n}{previous} \PYG{n}{information}\PYG{p}{)}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{If} \PYG{n}{NLP}\PYG{o}{=}\PYG{k+kc}{True}
\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{process} \PYG{n}{again} \PYG{n+nb}{all} \PYG{n}{the} \PYG{n}{tweets} \PYG{p}{(}\PYG{o+ow}{and} \PYG{n}{overwrite} \PYG{n}{previous} \PYG{n}{information}\PYG{p}{)}
\PYG{n}{etc}\PYG{o}{.}

\PYG{n}{accordingly}\PYG{p}{,}
\PYG{k}{if} \PYG{n}{I} \PYG{n+nb}{set}\PYG{p}{:} \PYG{n}{analyze\PYGZus{}all\PYGZus{}tweets}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{,} \PYG{n}{geocode}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{,} \PYG{n}{nlp}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{,} \PYG{n}{I} \PYG{n}{only} \PYG{n}{run} \PYG{n}{geocode} \PYG{n}{on} \PYG{n+nb}{all} \PYG{n}{the} \PYG{n}{tweets}\PYG{p}{,} \PYG{n}{regardless} \PYG{n}{the} \PYG{n}{state} \PYG{n}{of} \PYG{n}{the} \PYG{n}{NLP} \PYG{n}{processing}\PYG{o}{.}
\end{sphinxVerbatim}


\subsubsection{Configuration file}
\label{\detokenize{guide/tweet_processor_guide:configuration-file}}
\sphinxAtStartPar
To process tweets the first thing to do is to edit the configuration file process\_tweets.config in the script/tweets\_processor folder.
The configuration file looks like this:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{mongodb}\PYG{p}{:}
    \PYG{n+nt}{url}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{mongodb://localhost:27017/}
    \PYG{n+nt}{database}\PYG{p}{:}
    \PYG{n+nt}{collection}\PYG{p}{:}
\PYG{n+nt}{analyses}\PYG{p}{:}
    \PYG{n+nt}{nlp}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
    \PYG{n+nt}{tagme}\PYG{p}{:}
        \PYG{n+nt}{enabled}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
        \PYG{n+nt}{token}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{7f5391f2\PYGZhy{}142e\PYGZhy{}4fd5\PYGZhy{}9cc9\PYGZhy{}56e91c4c9add\PYGZhy{}843339462}
        \PYG{n+nt}{lang}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{it}
        \PYG{n+nt}{is\PYGZus{}twitter}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
        \PYG{n+nt}{rho\PYGZus{}value}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{0.15}
    \PYG{n+nt}{sentiment\PYGZus{}analyze}\PYG{p}{:}
        \PYG{n+nt}{sent\PYGZus{}it}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
        \PYG{n+nt}{feel\PYGZus{}it}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
    \PYG{n+nt}{geocoding}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
    \PYG{n+nt}{analyze\PYGZus{}all\PYGZus{}tweets}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{False}
\end{sphinxVerbatim}


\paragraph{Mongodb}
\label{\detokenize{guide/tweet_processor_guide:mongodb}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{mongodb}\PYG{p}{:}
    \PYG{n}{url}\PYG{p}{:} \PYG{n}{mongodb}\PYG{p}{:}\PYG{o}{/}\PYG{o}{/}\PYG{n}{localhost}\PYG{p}{:}\PYG{l+m+mi}{27017}\PYG{o}{/}
    \PYG{n}{database}\PYG{p}{:}
    \PYG{n}{collection}\PYG{p}{:}
\end{sphinxVerbatim}

\sphinxAtStartPar
This section provide the information to connect to the mongodb collection where the tweets to process are saved.


\paragraph{Analyses:Nlp}
\label{\detokenize{guide/tweet_processor_guide:analyses-nlp}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{analyzes}\PYG{p}{:}
   \PYG{n+nt}{nlp}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] This section enables or disables the SpaCy’s Natural Language Processing.
\item[] \sphinxstylestrong{Possible values:} True/False
\end{DUlineblock}


\paragraph{Analyses:TagMe}
\label{\detokenize{guide/tweet_processor_guide:analyses-tagme}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{analyses}\PYG{p}{:}
   \PYG{n+nt}{tagme}\PYG{p}{:}
       \PYG{n+nt}{enabled}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
       \PYG{n+nt}{token}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{7f5391f2\PYGZhy{}142e\PYGZhy{}4fd5\PYGZhy{}9cc9\PYGZhy{}56e91c4c9add\PYGZhy{}843339462}
       \PYG{n+nt}{is\PYGZus{}tweet}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
       \PYG{n+nt}{rho\PYGZus{}value}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{0.15}
\end{sphinxVerbatim}

\sphinxAtStartPar
This section enables Entity Linker phase using TagMe service.
\begin{itemize}
\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{enabled:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] enable or disable this phase.
\item[] \sphinxstylestrong{Possible values:} True/False
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{token:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] the token obtained from TagMe to send the requests. See \sphinxhref{https://sobigdata.d4science.org/web/tagme/tagme-help}{here} for more info.
\item[] \sphinxstylestrong{Possible values:} a valid TagMe token
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{is\_tweet:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] indicate to TagMe service if the text given is a tweet or not.
\item[] \sphinxstylestrong{Possible values:} True/False
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{rho\_value:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] estimates the confidence in the annotation. (Note that ρ does not indicate the relevance of the entity in the input text). You can use the ρ value to discard annotations that are below a given threshold. The threshold should be chosen in the interval {[}0,1{]}. A reasonable threshold is between 0.1 and 0.3.
\item[] \sphinxstylestrong{Possible values:} any number between 0 and 1
\end{DUlineblock}

\end{description}

\end{itemize}


\paragraph{Analyses:Sentiment Analyses}
\label{\detokenize{guide/tweet_processor_guide:analyses-sentiment-analyses}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{analyses}\PYG{p}{:}
   \PYG{n+nt}{sentiment\PYGZus{}analyze}\PYG{p}{:}
          \PYG{n+nt}{sent\PYGZus{}it}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
          \PYG{n+nt}{feel\PYGZus{}it}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
\end{sphinxVerbatim}

\sphinxAtStartPar
This section enables Sentiment Analyses phase.
\begin{itemize}
\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{sent\sphinxhyphen{}it:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] enable or disable sent\sphinxhyphen{}it phase.
\item[] \sphinxstylestrong{Possible values:} True/False
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{feel\sphinxhyphen{}it:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] enable or disable sent\sphinxhyphen{}it phase.
\item[] Note that this phase will disable automatically in presence of english tweet.
\item[] \sphinxstylestrong{Possible values:} True/False
\end{DUlineblock}

\end{description}

\end{itemize}


\paragraph{Analyses:Geocoding}
\label{\detokenize{guide/tweet_processor_guide:analyses-geocoding}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{geocoding}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{True}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] This section enables or disables the geocoding phase using Open Street Map service.
\item[] \sphinxstylestrong{Possible values:} True/False
\end{DUlineblock}


\paragraph{Analyses:Analyze all tweets}
\label{\detokenize{guide/tweet_processor_guide:analyses-analyze-all-tweets}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{analyze\PYGZus{}all\PYGZus{}tweets}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{False}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] This section indicate to analyze all tweets in the mongodb collection or not.
\item[] \sphinxstylestrong{Possible values:} True/False
\end{DUlineblock}


\subsubsection{Use the script}
\label{\detokenize{guide/tweet_processor_guide:use-the-script}}
\sphinxAtStartPar
After editing and setting the configuration file just open a terminal in the folder script/process\_tweets and launch this command:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{python} \PYG{n}{process\PYGZus{}tweets}\PYG{o}{.}\PYG{n}{py}
\end{sphinxVerbatim}


\subsection{Manage Tweets Script}
\label{\detokenize{guide/manage_tweets_guide:manage-tweets-script}}\label{\detokenize{guide/manage_tweets_guide::doc}}\begin{description}
\item[{Using this script is possible:}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
extract some tweets from the database and save it on .json or .csv file

\item {} 
\sphinxAtStartPar
delete some tweets

\end{itemize}

\end{description}

\sphinxAtStartPar
The criteria to select the tweets to extract/delete are defined in the manage\_tweets.config file.
Is possible modify that file to set the criteria.
The possible criteria are:
\begin{itemize}
\item {} 
\sphinxAtStartPar
contains some specific word/words. In this case it is possible or write a list of words separated by comma in the words field, or use a txt file and write it path in the path field.

\item {} 
\sphinxAtStartPar
contains a specific sentiment

\item {} 
\sphinxAtStartPar
contains a word with a specific Part Of Speech (POS)

\item {} 
\sphinxAtStartPar
raw criteria: a query written in mongodb style

\end{itemize}

\sphinxAtStartPar
These criteria and the words specified in the relative field/file are connected with the “OR” logical operator
or with the “AND” logical operator. It is possible specify which operator must be used setting the logical\_operator field in the config file.


\subsubsection{Configuration file}
\label{\detokenize{guide/manage_tweets_guide:configuration-file}}
\sphinxAtStartPar
To process tweets the first thing to do is to edit the configuration file process\_tweets.config in the script/manage\_tweets folder.
The configuration file looks like this:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{mongodb}\PYG{p}{:}
    \PYG{n+nt}{url}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{mongodb://localhost:27017/}
    \PYG{n+nt}{database}\PYG{p}{:}
    \PYG{n+nt}{collection}\PYG{p}{:}
\PYG{c+c1}{\PYGZsh{}possible values: extract delete}
\PYG{n+nt}{mode}\PYG{p}{:}
\PYG{c+c1}{\PYGZsh{}json or csv (only with extract mode)}
\PYG{n+nt}{format}\PYG{p}{:}
\PYG{n+nt}{criteria}\PYG{p}{:}
  \PYG{c+c1}{\PYGZsh{}possible values: negative positive neutral}
  \PYG{n+nt}{sentiment}\PYG{p}{:}
  \PYG{c+c1}{\PYGZsh{}a list of keywords separated by a comma}
  \PYG{n+nt}{keywords}\PYG{p}{:}
    \PYG{n+nt}{words}\PYG{p}{:}
    \PYG{n+nt}{path}\PYG{p}{:}
  \PYG{n+nt}{postag}\PYG{p}{:}
  \PYG{c+c1}{\PYGZsh{}a raw NoSql query}
  \PYG{n+nt}{raw\PYGZus{}query}\PYG{p}{:}
  \PYG{c+c1}{\PYGZsh{}possible value: and or. This field specify with which logical operator the fields must be connected}
  \PYG{n+nt}{logical\PYGZus{}operator}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{or}
\end{sphinxVerbatim}


\paragraph{Mongodb}
\label{\detokenize{guide/manage_tweets_guide:mongodb}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{mongodb}\PYG{p}{:}
    \PYG{n}{url}\PYG{p}{:} \PYG{n}{mongodb}\PYG{p}{:}\PYG{o}{/}\PYG{o}{/}\PYG{n}{localhost}\PYG{p}{:}\PYG{l+m+mi}{27017}\PYG{o}{/}
    \PYG{n}{database}\PYG{p}{:}
    \PYG{n}{collection}\PYG{p}{:}
\end{sphinxVerbatim}

\sphinxAtStartPar
This section provide the information to connect to the mongodb collection where the tweets to manage are saved.
\sphinxstylestrong{Mandatory}


\paragraph{Mode}
\label{\detokenize{guide/manage_tweets_guide:mode}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{}possible values: extract delete}
   \PYG{n+nt}{mode}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{extract}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] The mode indicates what the script have to do. As explain before it’s possible extract and save in a file the tweets or delete it.
\item[] \sphinxstylestrong{Possible values:} extract delete
\item[] \sphinxstylestrong{Mandatory}
\end{DUlineblock}


\subparagraph{Mode: extract}
\label{\detokenize{guide/manage_tweets_guide:mode-extract}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{}possible values: extract delete}
  \PYG{n+nt}{mode}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{extract}
  \PYG{c+c1}{\PYGZsh{}json or csv (only with extract mode)}
  \PYG{n+nt}{format}\PYG{p}{:}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] To extract tweets it’s necessary set the \sphinxcode{\sphinxupquote{mode: extract}} and choose a format so: or \sphinxcode{\sphinxupquote{format: csv}} or \sphinxcode{\sphinxupquote{format: json}}.
\item[] This will generate a file (in the format chosen) in the working directory.
\end{DUlineblock}


\subparagraph{Mode: delete}
\label{\detokenize{guide/manage_tweets_guide:mode-delete}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{}possible values: extract delete}
  \PYG{n+nt}{mode}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{delete}
  \PYG{c+c1}{\PYGZsh{}json or csv (only with extract mode)}
  \PYG{n+nt}{format}\PYG{p}{:}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] To delete tweets it’s necessary set the \sphinxcode{\sphinxupquote{mode: delete}} and leaves blank the \sphinxcode{\sphinxupquote{format}} field.
\end{DUlineblock}


\paragraph{Criteria}
\label{\detokenize{guide/manage_tweets_guide:criteria}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nt}{criteria}\PYG{p}{:}
  \PYG{c+c1}{\PYGZsh{}possible values: negative positive neutral}
  \PYG{n+nt}{sentiment}\PYG{p}{:}
  \PYG{c+c1}{\PYGZsh{}a list of keywords separated by a comma}
  \PYG{n+nt}{keywords}\PYG{p}{:}
    \PYG{n+nt}{words}\PYG{p}{:}
    \PYG{n+nt}{path}\PYG{p}{:}
  \PYG{n+nt}{postag}\PYG{p}{:}
  \PYG{c+c1}{\PYGZsh{}a raw NoSql query}
  \PYG{n+nt}{raw\PYGZus{}query}\PYG{p}{:}
  \PYG{c+c1}{\PYGZsh{}possible value: and or. This field specify with which logical operator the fields must be connected}
  \PYG{n+nt}{logical\PYGZus{}operator}\PYG{p}{:} \PYG{l+lScalar+lScalarPlain}{or}
\end{sphinxVerbatim}

\sphinxAtStartPar
This section set the criteria to find the tweets in the db (to delete or extract it)
\begin{itemize}
\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{sentiment:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] setting this field it’s possible retrieve tweets with a specific sentiment, in particular choosing between tweets with neutral or positive or negative sentiment.
\item[] \sphinxstylestrong{Possible values:} negative/positive/neutral
\item[] \sphinxstylestrong{Optional}
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{keywords:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] setting this field it’s possible retrieve tweets that contains specific words
\item[] N.B if the \sphinxcode{\sphinxupquote{logical\_operator}} it’s set to \sphinxcode{\sphinxupquote{or}} will be retrieved tweets that have one of the words spcified here,
\item[] otherwise if the field it’s set to \sphinxcode{\sphinxupquote{and}} will be retrieved only tweets that contains all the specified words.
\end{DUlineblock}
\begin{itemize}
\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{words:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] a list of words to search separeted by a comma
\item[] \sphinxstylestrong{Possible values:} a list of words separated by a comma
\item[] \sphinxstylestrong{Example value:} sun,sea,island
\item[] \sphinxstylestrong{Optional}
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{path:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] the path to a .txt file contained the words to search.
\item[] The .txt file have to contain each word to search in a different line, example:
\end{DUlineblock}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{sun}
\PYG{n}{sea}
\PYG{n}{island}
\end{sphinxVerbatim}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values:} a valid path to a .txt file
\item[] \sphinxstylestrong{Optional}
\end{DUlineblock}

\end{description}

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{postag:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] setting this field it’s possible retrieve tweets that contains a word with a specific POS tag.
\item[] For more info see:
\end{DUlineblock}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxhref{https://spacy.io/usage/linguistic-features}{here for a generic understanding}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://spacy.io/models/it\#it\_core\_news\_lg-labels}{here for a complete list of italian SpaCy’s POS values (see labels scheme section in it\_core\_news\_lg)}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://spacy.io/models/en\#en\_core\_web\_lg-labels}{here for a complete list of english SpaCy’s POS values (see labels scheme section in en\_core\_web\_lg)}

\end{itemize}

\begin{DUlineblock}{0em}
\item[] \sphinxstylestrong{Possible values:} any valid POS value
\item[] \sphinxstylestrong{Example value:} ADV
\item[] \sphinxstylestrong{Optional}
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{raw\_query:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] setting this field it’s possible to write a own query.
\item[] the query must be a mongodb query and have to take in account the fields of the tweet saved in the collection.
\item[] \sphinxstylestrong{Possible values:} any valid mongodb query
\item[] \sphinxstylestrong{Example value:} \{‘processed’:True\}
\item[] \sphinxstylestrong{Optional}
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{\sphinxcode{\sphinxupquote{logical\_operator:}}:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] if more than one criteria field are set or if the keywprds field it’ set it’s necessary to define how logically connect this criteria or the words specified, so if using \sphinxcode{\sphinxupquote{and}} logical operator or \sphinxcode{\sphinxupquote{or}} logical operator.
\item[] \sphinxstylestrong{Possible values:} or/and
\item[] \sphinxstylestrong{Mandatory}
\end{DUlineblock}

\end{description}

\end{itemize}


\subsubsection{Use the script}
\label{\detokenize{guide/manage_tweets_guide:use-the-script}}
\sphinxAtStartPar
After editing and setting the configuration file just open a terminal in the folder script/manage\_tweets and launch this command:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{python} \PYG{n}{manage\PYGZus{}tweets}\PYG{o}{.}\PYG{n}{py}
\end{sphinxVerbatim}


\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{h}
\item\relax\sphinxstyleindexentry{hate\_tweet\_map.tweets\_processor.EntityLinker}\sphinxstyleindexpageref{code_comment/tweet_processor:\detokenize{module-hate_tweet_map.tweets_processor.EntityLinker}}
\item\relax\sphinxstyleindexentry{hate\_tweet\_map.tweets\_processor.MyTagMe}\sphinxstyleindexpageref{code_comment/tweet_processor:\detokenize{module-hate_tweet_map.tweets_processor.MyTagMe}}
\item\relax\sphinxstyleindexentry{hate\_tweet\_map.tweets\_processor.TweetProcessor}\sphinxstyleindexpageref{code_comment/tweet_processor:\detokenize{module-hate_tweet_map.tweets_processor.TweetProcessor}}
\item\relax\sphinxstyleindexentry{hate\_tweet\_map.tweets\_searcher.SearchTweets}\sphinxstyleindexpageref{code_comment/tweet_search:\detokenize{module-hate_tweet_map.tweets_searcher.SearchTweets}}
\item\relax\sphinxstyleindexentry{hate\_tweet\_map.users\_searcher.SearchUsers}\sphinxstyleindexpageref{code_comment/user_search:\detokenize{module-hate_tweet_map.users_searcher.SearchUsers}}
\indexspace
\bigletter{s}
\item\relax\sphinxstyleindexentry{script.manage\_tweets.manage\_tweets}\sphinxstyleindexpageref{code_comment/manage_tweets:\detokenize{module-script.manage_tweets.manage_tweets}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}